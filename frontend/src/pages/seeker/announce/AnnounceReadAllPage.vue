<template>
  <div class="body-arp">
    <SeekerHeaderComponent></SeekerHeaderComponent>
    <section class="main-content">
      <h2>ì±„ìš©</h2>
      <div class="filter-section">
        <!-- ê¸°ì—…í˜•íƒœ í•„í„° -->
        <!-- <div class="filter-item" data-filter="ê¸°ì—…í˜•íƒœ">
          <button class="dropdown-btn" @click="toggleDropdown('ê¸°ì—…í˜•íƒœ')">ê¸°ì—…í˜•íƒœ</button>
          <div class="filter-dropdown" v-show="dropdownOpen['ê¸°ì—…í˜•íƒœ']">
            <label><input type="checkbox" value="ëŒ€ê¸°ì—…" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ëŒ€ê¸°ì—…')" /> ëŒ€ê¸°ì—…</label>
            <label><input type="checkbox" value="ì¤‘ì†Œê¸°ì—…" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ì¤‘ì†Œê¸°ì—…')" /> ì¤‘ì†Œê¸°ì—…</label>
            <label><input type="checkbox" value="ê³µê³µê¸°ê´€/ê³µê¸°ì—…" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ê³µê³µê¸°ê´€/ê³µê¸°ì—…')" />
              ê³µê³µê¸°ê´€/ê³µê¸°ì—…</label>
            <label><input type="checkbox" value="ì™¸êµ­ê³„ê¸°ì—…" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ì™¸êµ­ê³„ê¸°ì—…')" /> ì™¸êµ­ê³„ê¸°ì—…</label>
            <label><input type="checkbox" value="ì¤‘ê²¬ê¸°ì—…" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ì¤‘ê²¬ê¸°ì—…')" /> ì¤‘ê²¬ê¸°ì—…</label>
            <label><input type="checkbox" value="ë¹„ì˜ë¦¬ë‹¨ì²´/í˜‘íšŒ/ì¬ë‹¨" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ë¹„ì˜ë¦¬ë‹¨ì²´/í˜‘íšŒ/ì¬ë‹¨')" />
              ë¹„ì˜ë¦¬ë‹¨ì²´/í˜‘íšŒ/ì¬ë‹¨</label>
            <label><input type="checkbox" value="ë²¤ì²˜ê¸°ì—…" @change="updateFilters('ê¸°ì—…í˜•íƒœ', 'ë²¤ì²˜ê¸°ì—…')" /> ë²¤ì²˜ê¸°ì—…</label>
          </div>
        </div> -->
        <!-- ì±„ìš©í˜•íƒœ í•„í„° -->
        <div class="filter-item" data-filter="ì±„ìš©í˜•íƒœ">
          <button class="dropdown-btn" @click.stop="toggleDropdown('ì±„ìš©í˜•íƒœ')">ì±„ìš©í˜•íƒœ</button>
          <div class="filter-dropdown" v-show="dropdownOpen['ì±„ìš©í˜•íƒœ']">
            <label>
              <input type="checkbox" value="ì‹ ì…" v-model="checkedFilters['ì±„ìš©í˜•íƒœ']"
                @change="updateFilters('ì±„ìš©í˜•íƒœ', 'ì‹ ì…'); closeDropdown('ì±„ìš©í˜•íƒœ')" />
              ì‹ ì…</label>
            <label><input type="checkbox" value="ê²½ë ¥" v-model="checkedFilters['ì±„ìš©í˜•íƒœ']"
                @change="updateFilters('ì±„ìš©í˜•íƒœ', 'ê²½ë ¥'); closeDropdown('ì±„ìš©í˜•íƒœ')" /> ê²½ë ¥</label>
          </div>
        </div>
        <!-- ëª¨ì§‘ì§ë¬´ í•„í„° -->
        <div class="filter-item" data-filter="ëª¨ì§‘ì§ë¬´">
          <button class="dropdown-btn" @click.stop="toggleDropdown('ëª¨ì§‘ì§ë¬´')">ëª¨ì§‘ì§ë¬´</button>
          <div class="filter-dropdown" v-show="dropdownOpen['ëª¨ì§‘ì§ë¬´']">
            <!-- í° ì¹´í…Œê³ ë¦¬ ì´ë¦„ì„ ë™ì ìœ¼ë¡œ ë Œë”ë§ -->
            <div v-for="category in categoryData" :key="category">
              <label>
                <input type="checkbox" :value="category" v-model="checkedFilters['ëª¨ì§‘ì§ë¬´']"
                  @change="updateFilters('ëª¨ì§‘ì§ë¬´', category); closeDropdown('ëª¨ì§‘ì§ë¬´')" />
                {{ category }}
              </label>
            </div>
          </div>
        </div>
        <!-- ê·¼ë¬´ì§€ì—­ í•„í„° -->
        <div class="filter-item" data-filter="ê·¼ë¬´ì§€ì—­">
          <button class="dropdown-btn" @click.stop="toggleDropdown('ê·¼ë¬´ì§€ì—­')">ê·¼ë¬´ì§€ì—­</button>
          <div class="filter-dropdown" v-show="dropdownOpen['ê·¼ë¬´ì§€ì—­']">
            <label><input type="checkbox" value="í•´ì™¸ì§€ì—­" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'í•´ì™¸ì§€ì—­'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> í•´ì™¸ì§€ì—­</label>
            <label><input type="checkbox" value="ì¬íƒê·¼ë¬´ ê°€ëŠ¥" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'ì¬íƒê·¼ë¬´ ê°€ëŠ¥'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> ì¬íƒê·¼ë¬´ ê°€ëŠ¥</label>
            <label><input type="checkbox" value="ì„œìš¸" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'ì„œìš¸'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> ì„œìš¸</label>
            <label><input type="checkbox" value="ë¶€ì‚°" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'ë¶€ì‚°'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> ë¶€ì‚°</label>
            <label><input type="checkbox" value="ëŒ€êµ¬" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'ëŒ€êµ¬'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> ëŒ€êµ¬</label>
            <label><input type="checkbox" value="ì¸ì²œ" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'ì¸ì²œ'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> ì¸ì²œ</label>
            <label><input type="checkbox" value="ê´‘ì£¼" v-model="checkedFilters['ê·¼ë¬´ì§€ì—­']"
                @change="updateFilters('ê·¼ë¬´ì§€ì—­', 'ê´‘ì£¼'); closeDropdown('ê·¼ë¬´ì§€ì—­')" /> ê´‘ì£¼</label>
          </div>
        </div>
        <div class="search-container">
          <!-- <input type="text" id="search-input" placeholder="ê³µê³ ëª…, ê¸°ì—…, ì§ë¬´, í‚¤ì›Œë“œ ê²€ìƒ‰" />
          <button id="search-btn">ê²€ìƒ‰</button> -->
          <input ref="searchInput" type="text" v-model="searchKeyword" placeholder="ê³µê³ ëª…&ëª¨ì§‘ë¶„ì•¼ í‚¤ì›Œë“œ ê²€ìƒ‰"
            @keyup.enter="handleSearch" class="search-input" />
          <button @click="handleSearch" class="search-btn">ê²€ìƒ‰</button>
        </div>
      </div>

      <!-- ì„ íƒëœ í•„í„°ë“¤ -->
      <div class="selected-filters">
        <div id="selected-filters-list">
          <span v-for="filter in selectedFilters" :key="filter.name + filter.value" @click="removeFilter(filter)">
            {{ filter.name }}: {{ filter.value }} âœ•
          </span>
        </div>
        <a href="#" id="reset-filters" class="reset-filters" @click.prevent="resetFilters"> í•„í„° ì´ˆê¸°í™”ğŸ”„ï¸</a>
        <p> í‚¤ì›Œë“œë¡œ ê²€ìƒ‰ ì‹œ, í† ê¸€ì„ ì´ˆê¸°í™” í•´ì£¼ì„¸ìš”. í•„í„°ë¡œ ê²€ìƒ‰ ì‹œ, ì¹´í…Œê³ ë¦¬ë‹¹ í•˜ë‚˜ì˜ í•„í„°ë§Œ ì¶”ê°€í•˜ì„¸ìš”.</p>
      </div>

      <!-- ê²€ìƒ‰ ê²°ê³¼ -->
      <div class="results-header">
        <span>ê²€ìƒ‰ ê²°ê³¼ {{ announcementCount }}ê±´</span>
        <div class="sort-dropdown">
          <button class="dropdown-btn2" @click="toggleSortDropdown">{{ selectedSortOption }} â–¼</button>
          <ul v-if="sortDropdownOpen" class="sort-options">
            <li @click="sortAnnouncements('ì „ì²´')">ì „ì²´</li>
            <li @click="sortAnnouncements('ìµœì‹  ë“±ë¡ìˆœ')">ìµœì‹  ë“±ë¡ìˆœ</li>
            <li @click="sortAnnouncements('ë§ˆê° ì„ë°•ìˆœ')">ë§ˆê° ì„ë°•ìˆœ</li>
            <li @click="sortAnnouncements('ë§ˆê°ëœ ê³µê³  ì œì™¸ìˆœ')">ë§ˆê°ëœ ê³µê³  ì œì™¸ìˆœ</li>
          </ul>
        </div>
      </div>

      <!-- ê³µê³  ëª©ë¡ -->
      <div class="main_product" id="section_banner">
        <div class="cont_product prd_platinum">
          <div class="inner_cont">
            <ul class="prd_list plus" id="_platinumPlus">
              <li class="option" v-for="(announcement) in announcementStore.announcements2"
                :key="announcement.announcementIdx" @click="goToDetailPage(announcement.announcementIdx)">
                <a class="link_box track_event" rel="sponsored, nofollow">
                  <span class="logo">
                    <img src="../../../assets/img/main/company_logo1.png" class="img" alt=" ì• ê²½ê·¸ë£¹ AK PLAZA"
                      loading="lazy">
                  </span>
                  <span class="c_name"> {{ announcement.companyName }} </span>
                  <span class="title"> {{ announcement.companyName }} <br> {{ announcement.announcementTitle }} </span>
                  <span class="title_ex"> {{ announcement.jobTitle }} </span>
                  <span class="bg">
                    <img src="../../../assets/img/main/company_card1_596x258.jpg" alt=" ì• ê²½ê·¸ë£¹ AK PLAZA 2025 ì‹ ì…ì‚¬ì› ê³µê°œì±„ìš© "
                      loading="lazy">
                  </span>
                  <span class="bg_ex">
                    <img src="../../../assets/img/main/company_card1_600x1120.jpg" alt=" ì• ê²½ê·¸ë£¹ AK PLAZA 2025 ì‹ ì…ì‚¬ì› ê³µê°œì±„ìš© "
                      loading="lazy">
                  </span>
                  <span class="cont"> ê¸°ì—… ì†Œê°œ <br> {{ announcement.companyInfo }} <br><br>
                    {{ announcement.announcementEnd }} ê¹Œì§€ <br>
                    {{ announcement.region }} ê·¼ë¬´ <br> {{ announcement.careerBase }}ëª¨ì§‘
                  </span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <SeekerFooterComponent></SeekerFooterComponent>
  </div>
</template>

<script setup>
import SeekerHeaderComponent from "@/components/seeker/SeekerHeaderComponent.vue";
import SeekerFooterComponent from "@/components/seeker/SeekerFooterComponent.vue";
import { useRouter } from 'vue-router';
import { ref, onMounted, computed } from 'vue';
import { UseAnnouncementStore } from "@/stores/UseAnnouncementStore";

const router = useRouter();
const announcementStore = UseAnnouncementStore();

// announcements2 ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ = ê³µê³  ìˆ˜ë¥¼ ê³„ì‚°
const announcementCount = computed(() => announcementStore.announcements2.length);

// ê²€ìƒ‰ í‚¤ì›Œë“œì™€ ì„ íƒëœ í•„í„° ì €ì¥
const searchKeyword = ref('');
const selectedFilters = ref([]);

// ì²´í¬ë°•ìŠ¤ì˜ ì„ íƒ ìƒíƒœ ì €ì¥
const checkedFilters = ref({
  'ê¸°ì—…í˜•íƒœ': [],
  'ì±„ìš©í˜•íƒœ': [],
  'ëª¨ì§‘ì§ë¬´': [],
  'ê·¼ë¬´ì§€ì—­': []
});

// ë“œë¡­ë‹¤ìš´ ìƒíƒœ ì €ì¥
const dropdownOpen = ref({
  'ê¸°ì—…í˜•íƒœ': false,
  'ì±„ìš©í˜•íƒœ': false,
  'ëª¨ì§‘ì§ë¬´': false,
  'ê·¼ë¬´ì§€ì—­': false
  // ë‹¤ë¥¸ í•„í„° í•­ëª©ë“¤ ì¶”ê°€ ê°€ëŠ¥
});

const categoryData = ref([
  "ê¸°íšÂ·ì „ëµ",
  "êµìœ¡",
  "ê³ ê°ìƒë‹´Â·TM",
  "ITÂ·ê°œë°œ",
  "ë§ˆì¼€íŒ…",
  "ì˜ì—…",
  "ì¸ì‚¬",
  "ì¬ë¬´Â·íšŒê³„",
  "ë²•ë¬´",
  "í™ë³´Â·PR",
  "ë””ìì¸",
  "ìƒì‚°Â·ì œì¡°",
  "ì—°êµ¬ê°œë°œ(R&D)",
  "ë¬¼ë¥˜",
  "êµ¬ë§¤",
  "ê±´ì„¤Â·í† ëª©",
  "ì˜ë£Œ",
  "ì—°êµ¬",
  "ë²•ë¬´Â·íŠ¹í—ˆ",
  "ì„œë¹„ìŠ¤",
  "ë¹„ì„œÂ·ì´ë¬´",
  "ì „ëµê¸°íš",
  "ì—”ì§€ë‹ˆì–´",
  "ìœ í†µÂ·íŒë§¤",
  "ë¦¬ìŠ¤í¬ê´€ë¦¬",
  "í’ˆì§ˆê´€ë¦¬",
  "ê³µê³µí–‰ì •",
  "ê´‘ê³ Â·ë¯¸ë””ì–´",
  "í•­ê³µ",
  "í˜¸í…”Â·ì™¸ì‹"
]);


// ë“œë¡­ë‹¤ìš´ ì—´ê¸°/ë‹«ê¸° í† ê¸€ í•¨ìˆ˜
const toggleDropdown = (filterName) => {
  dropdownOpen.value[filterName] = !dropdownOpen.value[filterName];
};

const closeDropdown = (filterName) => {
  dropdownOpen.value[filterName] = false;
};

// ë“œë¡­ë‹¤ìš´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
const handleOutsideClick = () => {
  Object.keys(dropdownOpen.value).forEach((key) => {
    dropdownOpen.value[key] = false;
  });
};

// ì´ë²¤íŠ¸ê°€ ë“œë¡­ë‹¤ìš´ ì•ˆì—ì„œ ë°œìƒí•˜ë©´ ì°½ì´ ë‹«íˆì§€ ì•Šë„ë¡ ì¤‘ì§€
document.addEventListener('click', (event) => {
  if (!event.target.closest('.filter-item')) {
    handleOutsideClick();
  }
});

// í•„í„° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (ë“œë¡­ë‹¤ìš´ ì´ë¦„ê³¼ í•„í„° ê°’ í•¨ê»˜ ì €ì¥)
const updateFilters = (filterName, filterValue) => {
  const exists = selectedFilters.value.find(f => f.name === filterName && f.value === filterValue);

  if (!exists) {
    selectedFilters.value.push({ name: filterName, value: filterValue });
  } else {
    selectedFilters.value = selectedFilters.value.filter(f => !(f.name === filterName && f.value === filterValue));
  }
};


// í•„í„° ì œê±° í•¨ìˆ˜
const removeFilter = (filter) => {
  // ì„ íƒëœ í•„í„° ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°
  selectedFilters.value = selectedFilters.value.filter(item => !(item.name === filter.name && item.value === filter.value));

  // ì²´í¬ë°•ìŠ¤ ìƒíƒœë„ í•´ì œ
  checkedFilters.value[filter.name] = checkedFilters.value[filter.name].filter(f => f !== filter.value);
};

// í•„í„° ì´ˆê¸°í™” í•¨ìˆ˜
const resetFilters = () => {
  selectedFilters.value = [];
  Object.keys(checkedFilters.value).forEach(key => {
    checkedFilters.value[key] = [];
  });
};


// ê²€ìƒ‰ ë˜ëŠ” í•„í„°ë§ ì²˜ë¦¬
const handleSearch = () => {
  if (searchKeyword.value) {
    // ê²€ìƒ‰ì–´ê°€ ìˆì„ ê²½ìš° ê²€ìƒ‰ ê²°ê³¼ë¥¼ initialAnnouncementsì— ì €ì¥
    announcementStore.searchAnnouncements(searchKeyword.value).then(() => {
      initialAnnouncements.value = [...announcementStore.announcements2]; // í˜„ì¬ ìƒíƒœ ì €ì¥
      console.log("í‚¤ì›Œë“œ ê²€ìƒ‰ í›„: ", initialAnnouncements);
    });
  } else if (selectedFilters.value.length > 0) {
    // í•„í„°ê°€ ìˆì„ ê²½ìš° í•„í„° ê²°ê³¼ë¥¼ initialAnnouncementsì— ì €ì¥
    announcementStore.filterAnnouncementsByFilters(selectedFilters.value).then(() => {
      initialAnnouncements.value = [...announcementStore.announcements2]; // í˜„ì¬ ìƒíƒœ ì €ì¥
      console.log("í•„í„° ì ìš© í›„: ", initialAnnouncements);
    });
  } else {
    // ê²€ìƒ‰ì–´ì™€ í•„í„°ê°€ ì—†ëŠ” ê²½ìš° ì „ì²´ ê³µê³  ì´ˆê¸°ê°’ ë³µì›
    if (initialAnnouncements.value.length > 0) {
      announcementStore.announcements2 = [...initialAnnouncements.value];
    } else {
      console.error("ê²€ìƒ‰ì–´ ë˜ëŠ” í•„í„°ë¥¼ ì„ íƒí•˜ì„¸ìš”.");
      alert('ê²€ìƒ‰ì–´ ë˜ëŠ” í•„í„°ë¥¼ ì„ íƒí•˜ì„¸ìš”.');
    }
    console.log("ì „ì²´ ë³µì› í›„: ", initialAnnouncements);
  }
};

// watchë¡œ ì„ íƒëœ í•„í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ìë™ìœ¼ë¡œ ë°±ì—”ë“œì— ìš”ì²­
// watch(selectedFilters, (newFilters) => {
//   if (!searchKeyword.value && newFilters.length) {
//     handleSearch();
//   }
// });


// ì˜¤ë¥¸ìª½ ìµœì‹ ìˆœ í•„í„° ê¸°ëŠ¥

// ì •ë ¬ ë“œë¡­ë‹¤ìš´ ìƒíƒœ
const sortDropdownOpen = ref(false);
const selectedSortOption = ref('ì •ë ¬'); // ê¸°ë³¸ ì •ë ¬ ì˜µì…˜
const initialAnnouncements = ref([]); // ì´ˆê¸° ê³µê³  ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•  ë³€ìˆ˜

// ë“œë¡­ë‹¤ìš´ ì—´ê¸°/ë‹«ê¸° í•¨ìˆ˜
const toggleSortDropdown = () => {
  sortDropdownOpen.value = !sortDropdownOpen.value;
};

// ì •ë ¬ ì˜µì…˜ ì„ íƒ ì‹œ ì²˜ë¦¬
const sortAnnouncements = (option) => {
  selectedSortOption.value = option;
  sortDropdownOpen.value = false;

  switch (option) {
    case 'ì „ì²´': {
      // ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¼
      announcementStore.announcements2 = [...initialAnnouncements.value];
      break;
    }
    case 'ìµœì‹  ë“±ë¡ìˆœ': {
      announcementStore.announcements2 = [...initialAnnouncements.value].reverse();
      break;
    }
    case 'ë§ˆê° ì„ë°•ìˆœ': {
      announcementStore.announcements2 = [...initialAnnouncements.value].sort((a, b) => {
        return new Date(a.announcementEnd) - new Date(b.announcementEnd);
      });
      break;
    }
    case 'ë§ˆê°ëœ ê³µê³  ì œì™¸ìˆœ': {
      const now = new Date();
      announcementStore.announcements2 = initialAnnouncements.value.filter(announcement => {
        return !announcement.announcementEnd || new Date(announcement.announcementEnd) >= now;
      });
      break;
    }
    default:
      break;
  }
};


// ê³µê³  ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
const goToDetailPage = (announcementIdx) => {
  router.push(`/seeker/announce/detail/${announcementIdx}`);
};

// ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
onMounted(() => {
  // ì „ì²´ ê³µê³  ì¡°íšŒ í•¨ìˆ˜
  announcementStore.readAll().then(() => {
    initialAnnouncements.value = [...announcementStore.announcements2]; // ì´ˆê¸°ê°’ ì €ì¥
    console.log(initialAnnouncements);
  });
});

</script>

<style scoped>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;

}

.body-arp {
  font-family: Arial, sans-serif;
  line-height: 1.6;
  background-color: #fff;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0 auto;
  padding: 0;
}

.search-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
}

.search-input {
  width: 300px;
  padding: 10px;
  border-radius: 25px;
  border: 1px solid #ccc;
  outline: none;
  font-size: 16px;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.search-input:focus {
  border-color: #212b36;
  box-shadow: 0 6px 10px rgba(0, 123, 255, 0.2);
}

.search-btn {
  padding: 10px 20px;
  margin-left: 10px;
  border: none;
  border-radius: 25px;
  background-color: #212b36;
  color: white;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.search-btn:hover {
  background-color: #0056b3;
  box-shadow: 0 6px 12px rgba(0, 123, 255, 0.3);
}

.search-btn:focus {
  outline: none;
}

.main-content {
  max-width: 1200px;
  margin: 60px auto;
  background-color: #fff;
  padding: 50px;
}

.main-container> :last-child {
  justify-content: right;
}

h2 {
  font-size: 22px;
  margin-bottom: 20px;
  color: #333;
}

.filter-section {
  display: flex;
  justify-content: left;
  margin-bottom: 20px;
}

.filter-item {
  position: relative;
}

.dropdown-btn {
  padding: 8px 15px;
  width: 130px;
  border: 1px solid #ffffff;
  background-color: #cbdaea;
  cursor: pointer;
  font-size: 14px;
}


.filter-dropdown {
  position: absolute;
  top: 40px;
  left: 0;
  width: 100%;
  /* ë²„íŠ¼ í¬ê¸°ì™€ ë™ì¼í•˜ê²Œ */
  background-color: #ffffff;
  border: 1px solid #ccc;
  /* ë¶€ë“œëŸ¬ìš´ í…Œë‘ë¦¬ ìƒ‰ìƒ */
  padding: 8px 12px;
  /* ì ë‹¹í•œ ë‚´ë¶€ ì—¬ë°± */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  /* ì¢€ ë” ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
  z-index: 2;
  max-height: 200px;
  overflow-y: auto;
  border-radius: 5px;
  /* ëª¨ì„œë¦¬ë¥¼ ë¶€ë“œëŸ½ê²Œ */
  font-size: 14px;
  /* í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
}

.filter-dropdown label {
  display: block;
  padding: 8px 0;
  /* í•­ëª© ê°„ ì—¬ë°±ì„ ì¤˜ì„œ ë” ê¹”ë”í•˜ê²Œ */
  cursor: pointer;
}

.filter-dropdown label:hover {
  background-color: #f5f5f5;
  /* í•­ëª© hover ì‹œ ë°°ê²½ìƒ‰ */
}

.selected-filters {
  margin-bottom: 20px;
}

.selected-filters span {
  background-color: #e0e0e0;
  padding: 5px 10px;
  margin-right: 10px;
  border-radius: 20px;
  display: inline-block;
  font-size: 14px;
  color: #333;
  cursor: pointer;
}

.reset-filters {
  color: #212b36;
  text-decoration: none;
  font-size: 14px;
}

.results-header {
  display: flex;
  justify-content: space-between;
  /* align-items: center; */
  margin-bottom: 15px;
}

.sort-by {
  cursor: pointer;
  color: #666;
}

.job-listing {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

.job-listing th,
.job-listing td {
  padding: 12px;
  border-bottom: 1px solid #ddd;
  text-align: left;
}

.job-listing th {
  background-color: #f9f9f9;
}

.job-listing tr:hover {
  background-color: #f1f1f1;
}

.job-listing td:last-child {
  text-align: center;
}

.search-container {
  display: flex;
  align-items: center;
  margin-left: 20px;
}

#search-input {
  padding: 8px;
  width: 300px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

#search-btn {
  margin-left: 10px;
  padding: 8px 15px;
  background-color: #212b36;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 4px;
}

#search-btn:hover {
  background-color: #212b36;
}

/* ì •ë ¬ ê´€ë ¨ */

.dropdown-btn2 {
  /* padding: 8px 15px;
  width: 136.89px;
  border: 1px solid #ffffff;
  background-color: #cbdaea;
  cursor: pointer;
  font-size: 14px; */
  background-color: #212b36;
  color: white;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.sort-options {
  position: absolute;
  bottom: 40px;
  /* ë“œë¡­ë‹¤ìš´ì´ ìœ„ìª½ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ë„ë¡ ì„¤ì • */
  left: 0;
  background-color: white;
  list-style: none;
  padding: 10px 0;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  width: 150px;
  z-index: 2;
  margin: 0;
  display: flex;
  flex-direction: column;
}

.sort-dropdown {
  position: relative;
}

.sort-options li {
  padding: 10px 20px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.sort-options li:hover {
  background-color: #f0f0f0;
  /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ */
}

.dropdown-btn2:focus,
.sort-options li:focus {
  outline: none;
}

/* .main_product {
  margin-top: 20px;
} */

/* .prd_list .option {
  padding: 10px;
  border: 1px solid #ddd;
  margin-bottom: 15px;
  transition: background-color 0.3s ease;
}

.prd_list .option:hover {
  background-color: #f9f9f9;
}

.prd_list .option .logo {
  margin-bottom: 10px;
} */


/* ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ìŠ¤íƒ€ì¼ */
.dropdown-menu {
  display: none;
  /* ì²˜ìŒì—ëŠ” ìˆ¨ê¹€ */
  position: absolute;
  background-color: white;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  padding: 10px;
  border-radius: 5px;
  z-index: 100;
  width: 120px;
  top: 100%;
  /* í´ë¦­í•œ ìš”ì†Œ ì•„ë˜ì— ìœ„ì¹˜ */
  right: 0;
  /* ì˜¤ë¥¸ìª½ì— ë§ì¶° ì •ë ¬ */
}

.logout-btn {
  display: block;
  /* padding: 4px 16px; */
  margin: 0 0 0 0;
  text-decoration: none;
  color: #333;
  text-align: center;
  border-radius: 4px;
  /* background-color: #83a5ea; */
  color: white;
}

.logout-btn:hover {
  /* background-color: #83a5ea; */
}


/* í…Œì´ë¸” í–‰ hover ì‹œ ìƒ‰ê¹” ë³€í™” */
.hoverable-row {
  transition: background-color 0.3s ease;
}

.hoverable-row:hover {
  background-color: #f6f6f6;
  /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ì•½ê°„ ì–´ë‘¡ê²Œ ë³€ê²½ */
  cursor: pointer;
}

SeekerFooterComponent {
  background-color: #212b36;
  color: white;
  padding: 20px;
  text-align: center;
  /* í‘¸í„°ê°€ í•­ìƒ í•˜ë‹¨ì— ìœ„ì¹˜ */
}

/* ìƒí’ˆ ê³µí†µ */
.main_product .btn_scrap {
  display: flex;
  position: absolute;
  right: 24px;
  z-index: 3;
  width: 24px;
  height: 24px;
  flex-flow: row nowrap;
  justify-content: center;
  align-content: center;
  align-items: center
}

.main_product .btn_scrap .ic path {
  stroke: #6b768b
}

.main_product .btn_scrap.on .ic path {
  fill: #fff15c;
  stroke: #ad9100
}

.main_product .logo {
  display: grid;
  position: relative;
  align-items: center;
  align-self: start;
  justify-self: center;
  grid-area: logo
}

.main_product .logo img {
  position: absolute;
  top: 50%;
  left: 50%;
  max-width: 100%;
  max-height: 100%;
  transform: translate(-50%, -50%);
  object-fit: contain
}

.main_product .logo .text {
  display: block;
  overflow: hidden;
  width: 100%;
  color: #2d2d2d;
  font-size: 12px;
  font-weight: 700;
  line-height: 20px;
  text-align: center;
  text-overflow: ellipsis;
  white-space: nowrap
}

.main_product .logo.left {
  justify-self: start
}

.main_product .logo.left img {
  left: 0;
  transform: translateY(-50%)
}

.main_product .c_name {
  display: block;
  overflow: hidden;
  max-width: 100%;
  font-size: 14px;
  font-weight: 700;
  line-height: 20px;
  text-overflow: ellipsis;
  white-space: nowrap;
  grid-area: c_name
}

.main_product .title,
.main_product .title_ex {
  display: -webkit-box;
  overflow: hidden;
  max-height: 44px;
  font-size: 15px;
  line-height: 22px;
  text-overflow: ellipsis;
  word-wrap: break-word;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  grid-area: title
}

.main_product .date {
  display: block;
  padding-right: 28px;
  color: #67738e;
  font-size: 12px;
  line-height: 20px;
  white-space: nowrap;
  justify-self: end;
  align-self: end;
  grid-area: date
}

.main_product .date.noscrap {
  padding-right: 0
}

.main_product .date .soon {
  color: #ff5656
}

.main_product .tags {
  display: flex;
  flex-flow: row wrap;
  justify-content: start;
  align-items: start;
  gap: 8px;
  grid-area: tags
}

.main_product .tags span {
  padding: 2px 6px;
  border-radius: 12px;
  color: #373f57;
  font-size: 13px;
  line-height: 20px;
  white-space: nowrap;
  background: #eff5ff
}

.main_product .badge {
  display: grid;
  padding: 2px 8px;
  border-radius: 4px;
  background: #eff5ff;
  grid-template-columns: 14px 1fr;
  gap: 2px;
  justify-content: start;
  align-items: center;
  justify-self: start;
  align-self: end;
  grid-area: badge
}

.main_product .badge svg {
  width: 14px;
  height: 14px
}

.main_product .badge span {
  overflow: hidden;
  max-width: 100%;
  color: #475067;
  font-size: 12px;
  line-height: 20px;
  text-overflow: ellipsis;
  white-space: nowrap
}

/*ì‚¬ìš©*/
.main_product .banner_list,
.main_product .prd_list {
  display: grid;
  width: 100%;
  gap: 20px;
  grid-template-columns: repeat(4, 1fr)
}

.main_product .banner_list li,
.main_product .prd_list li {
  position: relative;
  z-index: 1
}

.main_product .banner_list li a,
.main_product .prd_list li a {
  display: grid;
  position: absolute;
  z-index: 1;
  padding: 23px;
  width: 100%;
  height: 100%;
  border-width: 1px;
  border-style: solid;
  border-color: #d7dce5;
  border-radius: 16px;
  box-sizing: border-box;
  color: #292e41;
  background-color: #fff;
  align-content: start
}

.main_product .prd_list li:hover {
  z-index: 2
}

.main_product .prd_list li:hover a {
  box-shadow: 0 4px 10px 0 rgba(14, 12, 31, 0.10)
}

.main_product .prd_list li.option:hover a {
  box-shadow: 0 4px 20px 0 rgba(14, 12, 31, 0.15)
}

.main_product .prd_list li:not(.option):hover a {
  border-color: #2d67ff
}

.main_product .prd_list.plus li a {
  border-color: #2d67ff
}

.main_product .prd_list.plus li:not(.option):hover a {
  padding: 22px;
  border-width: 2px
}

.main_product .prd_list li.option a:before {
  position: absolute;
  top: -1px;
  right: -1px;
  left: -1px;
  height: 16px;
  border-width: 3px 1px 0 1px;
  border-style: solid;
  border-color: inherit;
  border-radius: 16px 16px 0 0;
  box-sizing: border-box;
  content: ""
}

.main_product .prd_list li.option:hover a:before {
  display: none
}

.main_product .prd_platinum .prd_list {
  grid-auto-rows: 270px
}

.main_product .prd_platinum .prd_list li.option:hover {
  height: 442px
}

.main_product .prd_platinum .prd_list .logo .text {
  font-size: 18px;
  line-height: 26px
}

.main_product .prd_platinum .prd_list li.option .title_ex {
  display: none;
  font-size: 18px;
  line-height: 26px
}

.main_product .prd_platinum .prd_list:not(.plus) li a {
  grid-template-columns: 1fr auto;
  gap: 0 8px;
  grid-template-areas: "logo logo" "c_name c_name" "title title" "badge date";
  grid-template-rows: 64px 32px 52px 72px
}

.main_product .prd_platinum .prd_list:not(.plus) li.option a {
  border-color: #2d67ff
}

.main_product .prd_platinum .prd_list:not(.plus) li.option:hover a {
  grid-template-areas: "logo logo" "c_name c_name" "title title" "bg_ex bg_ex" "tags tags" "badge date";
  grid-template-rows: 64px 32px 78px 128px 56px 32px
}

.main_product .prd_platinum .prd_list:not(.plus) .btn_scrap {
  bottom: 24px
}

.main_product .prd_platinum .prd_list:not(.plus) .logo {
  width: 160px;
  height: 40px
}

.main_product .prd_platinum .prd_list:not(.plus) .c_name {
  font-size: 16px;
  line-height: 24px
}

.main_product .prd_platinum .prd_list:not(.plus) .title {
  max-height: 52px;
  font-size: 18px;
  line-height: 26px
}

.main_product .prd_platinum .prd_list:not(.plus) .bg_ex {
  display: none;
  width: 96px;
  height: 96px;
  border-radius: 96px;
  grid-area: bg_ex;
  justify-self: end;
  align-self: center
}

.main_product .prd_platinum .prd_list:not(.plus) .bg_ex img {
  width: 96px;
  height: 96px;
  border-radius: 96px
}

.main_product .prd_platinum .prd_list:not(.plus) .tags {
  display: none
}

.main_product .prd_platinum .prd_list:not(.plus) li.option:hover .bg_ex {
  display: block
}

.main_product .prd_platinum .prd_list:not(.plus) li.option:hover .tags {
  display: flex;
  align-self: end
}

.main_product .prd_platinum .prd_list:not(.plus) li.option:hover .title {
  display: none
}

.main_product .prd_platinum .prd_list:not(.plus) li.option:hover .title_ex {
  display: -webkit-box;
  max-height: 78px;
  -webkit-line-clamp: 3
}

.main_product .prd_platinum .prd_list:not(.plus) li.option:hover .date {
  padding-bottom: 0
}

.main_product .prd_platinum .prd_list.plus li a {
  padding: 15px 23px;
  border-color: #d7dce5;
  grid-template-rows: 56px 52px 130px;
  grid-template-areas: "logo logo" "title title" "badge date";
  grid-template-columns: 1fr auto
}

.main_product .prd_platinum .prd_list.plus li:hover a {
  padding: 14px 22px;
  border-color: #2d67ff;
  box-shadow: 0 4px 20px 0 rgba(14, 12, 31, 0.15);
  cursor: pointer;
}

.main_product .prd_platinum .prd_list.plus li.option a:before {
  border-color: transparent;
  background-clip: content-box, border-box;
  background-origin: border-box
}

.main_product .prd_platinum .prd_list.plus li.option:nth-child(1) a:before,
.main_product .prd_platinum .prd_list.plus li.option:nth-child(4n+4) a:before {
  background-image: linear-gradient(#fff, #fff), linear-gradient(to right, #9f02ff 0%, #2d67ff 100%)
}

.main_product .prd_platinum .prd_list.plus li.option:nth-child(2) a:before,
.main_product .prd_platinum .prd_list.plus li.option:nth-child(4n+5) a:before {
  background-image: linear-gradient(#fff, #fff), linear-gradient(to right, #2d67ff 0%, #02c6ff 100%)
}

.main_product .prd_platinum .prd_list.plus li.option:nth-child(3) a:before,
.main_product .prd_platinum .prd_list.plus li.option:nth-child(4n+6) a:before {
  background-image: linear-gradient(#fff, #fff), linear-gradient(to right, #02c6ff 0%, #00be4c 100%)
}

.main_product .prd_platinum .prd_list.plus li.option:nth-child(4) a:before,
.main_product .prd_platinum .prd_list.plus li.option:nth-child(4n+7) a:before {
  background-image: linear-gradient(#fff, #fff), linear-gradient(to right, #00be4c 0%, #ffe15f 100%)
}

.main_product .prd_platinum .prd_list.plus li.expanded {
  grid-row: 1 / span 2
}

.main_product .prd_platinum .prd_list.plus li.option:hover a,
.main_product .prd_platinum .prd_list.plus li.expanded a {
  padding: 24px;
  height: 560px;
  border: 0
}

.main_product .prd_platinum .prd_list.plus li.expanded a {
  box-shadow: none
}

.main_product .prd_platinum .prd_list.plus .btn_scrap {
  right: 20px;
  bottom: 18px;
  z-index: 2
}

.main_product .prd_platinum .prd_list.plus .btn_scrap:not(.on) .ic path {
  stroke: #fff
}

.main_product .prd_platinum .prd_list.plus .logo {
  width: 160px;
  height: 40px
}

.main_product .prd_platinum .prd_list.plus .date {
  z-index: 1;
  padding: 2px 32px 2px 8px;
  border-radius: 4px;
  color: #fff;
  line-height: 24px;
  background: rgba(0, 0, 0, 0.6);
  transform: translateX(8px);
  align-self: end
}

.main_product .prd_platinum .prd_list.plus .date.noscrap {
  padding-right: 8px
}

.main_product .prd_platinum .prd_list.plus .date .soon {
  color: #fff
}

.main_product .prd_platinum .prd_list.plus .title {
  max-height: 52px;
  font-size: 18px;
  line-height: 26px
}

.main_product .prd_platinum .prd_list.plus .bg {
  overflow: hidden;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 298px;
  height: 129px
}

.main_product .prd_platinum .prd_list.plus .bg img {
  position: absolute;
  top: 0;
  left: 43%;
  width: 260px;
  height: 129px;
  border-radius: 0 0 16px 16px;
  transform: translateX(-50%)
}

.main_product .prd_platinum .prd_list.plus .badge {
  z-index: 1;
  border-radius: 12px;
  background: rgba(0, 0, 0, 0.6);
  transform: translateX(-8px);
  gap: 4px
}

.main_product .prd_platinum .prd_list.plus .badge span {
  color: #fff
}

.main_product .prd_platinum .prd_list.plus .c_name,
.main_product .prd_platinum .prd_list.plus .bg_ex,
.main_product .prd_platinum .prd_list.plus .cont {
  display: none
}

.main_product .prd_platinum .prd_list.plus li:hover .bg {
  width: 296px;
  height: 128px
}

.main_product .prd_platinum .prd_list.plus li.expanded a,
.main_product .prd_platinum .prd_list.plus li.option:hover a {
  padding: 16px;
  grid-template-rows: 72px 112px 32px 100px 140px 70px;
  grid-template-areas: "date" "logo" "c_name" "title" "cont" "badge"
}

.main_product .prd_platinum .prd_list.plus li.expanded .bg,
.main_product .prd_platinum .prd_list.plus li.option:hover .logo,
.main_product .prd_platinum .prd_list.plus li.option:hover .bg {
  display: none
}

.main_product .prd_platinum .prd_list.plus li.expanded .btn_scrap,
.main_product .prd_platinum .prd_list.plus li.option:hover .btn_scrap {
  top: 16px;
  right: 16px
}

.main_product .prd_platinum .prd_list.plus li.expanded .btn_scrap .ic path,
.main_product .prd_platinum .prd_list.plus li.option:hover .btn_scrap:not(.on) .ic path {
  stroke: #fff
}

.main_product .prd_platinum .prd_list.plus li.expanded .btn_scrap.on .ic path,
.main_product .prd_platinum .prd_list.plus li.option:hover .btn_scrap.on .ic path {
  fill: #fff15c;
  stroke: #ad9100
}

.main_product .prd_platinum .prd_list.plus li.expanded .date,
.main_product .prd_platinum .prd_list.plus li.option:hover .date {
  z-index: 2;
  padding: 0 32px 0;
  background: none;
  transform: none;
  align-self: start
}

.main_product .prd_platinum .prd_list.plus li.expanded .logo,
.main_product .prd_platinum .prd_list.plus li.option:hover .logo {
  display: grid;
  position: relative;
  z-index: 2;
  padding: 20px 10px;
  width: 76px;
  height: 56px;
  border-radius: 96px;
  background: #fff;
  align-self: start;
  justify-self: center;
  grid-area: logo
}

.main_product .prd_platinum .prd_list.plus li.expanded .logo img,
.main_product .prd_platinum .prd_list.plus li.option:hover .logo img {
  position: absolute;
  top: 50%;
  left: 50%;
  max-width: 76px;
  max-height: 56px;
  transform: translate(-50%, -50%);
  object-fit: contain
}

.main_product .prd_platinum .prd_list.plus li.expanded .logo .text,
.main_product .prd_platinum .prd_list.plus li.option:hover .logo .text {
  font-size: 12px;
  line-height: 200px
}

.main_product .prd_platinum .prd_list.plus li.expanded .c_name,
.main_product .prd_platinum .prd_list.plus li.option:hover .c_name {
  display: block;
  overflow: hidden;
  z-index: 2;
  max-width: 100%;
  color: #fff;
  font-size: 16px;
  font-weight: 700;
  line-height: 24px;
  text-overflow: ellipsis;
  white-space: nowrap;
  justify-self: center
}

.main_product .prd_platinum .prd_list.plus li.expanded .title,
.main_product .prd_platinum .prd_list.plus li.option:hover .title {
  display: none
}

.main_product .prd_platinum .prd_list.plus li.expanded .title_ex,
.main_product .prd_platinum .prd_list.plus li.option:hover .title_ex {
  display: -webkit-box;
  z-index: 2;
  max-height: 52px;
  color: #fff;
  font-size: 18px;
  font-weight: 700;
  line-height: 26px;
  text-align: center;
  -webkit-line-clamp: 2
}

.main_product .prd_platinum .prd_list.plus li.expanded .cont,
.main_product .prd_platinum .prd_list.plus li.option:hover .cont {
  display: -webkit-box;
  overflow: hidden;
  z-index: 2;
  margin: 0 8px;
  max-height: 140px;
  color: #fff;
  font-size: 14px;
  line-height: 20px;
  text-align: center;
  text-overflow: ellipsis;
  word-wrap: break-word;
  -webkit-line-clamp: 7;
  -webkit-box-orient: vertical;
  grid-area: cont
}

.main_product .prd_platinum .prd_list.plus li.expanded .badge,
.main_product .prd_platinum .prd_list.plus li.option:hover .badge {
  transform: translateX(0)
}

.main_product .prd_platinum .prd_list.plus li.expanded .bg_ex,
.main_product .prd_platinum .prd_list.plus li.option:hover .bg_ex {
  display: block;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 260px;
  height: 560px;
  border-radius: 16px
}

.main_product .prd_platinum .prd_list.plus li.expanded .bg_ex:after,
.main_product .prd_platinum .prd_list.plus li.option:hover .bg_ex:after {
  display: block;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 260px;
  height: 560px;
  border-radius: 16px;
  background: linear-gradient(to bottom, rgba(79, 128, 255, 0.24), rgba(0, 24, 152, 0.6));
  content: ""
}

.main_product .prd_platinum .prd_list.plus li.expanded .bg_ex img,
.main_product .prd_platinum .prd_list.plus li.option:hover .bg_ex img {
  width: 100%;
  height: 100%;
  border-radius: 16px
}
</style>
